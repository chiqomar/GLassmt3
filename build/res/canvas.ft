#version 120
#include "light_func.shade"


varying vec2 texcoord;
varying vec3 eye_space_normal;
varying vec3 eye_space_vertex;
uniform sampler2D tex;

void main()
{
  vec3 norm = normalize(eye_space_normal);
  vec3 empty = vec3(0.0,0.0,0.0);
  color = texture2D(tex, texcoord).xyz;
 gl_FragColor = vex4(shadeit(empty,color,color,color,color.x,eye_space_vertex,norm),1.0);

}
